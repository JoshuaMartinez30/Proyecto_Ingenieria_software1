<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
  <title>Ingrese su producto al mantenimiento</title>
  <script>
    function validateForm() {
      const fields = [
         
        'tipo_mantenimiento', 
         
        'detalles', 
        'estado_equipo'
      ];

      for (let field of fields) {
        const input = document.getElementById(field).value;

        if (input.length < 3) {
          alert(field + ' must have at least 3 characters');
          return false;
        }
        if (/[^a-zA-Z0-9 ]/.test(input)) {
          alert('No special characters allowed in ' + field);
          return false;
        }
        if (/([a-zA-Z])\1\1/.test(input)) {
          alert('No repeated letters more than twice in ' + field);
          return false;
        }
        if (/([aeiouAEIOU])\1/.test(input)) {
          alert('No repeated vowels in ' + field);
          return false;
        }
        if (/ {2,}/.test(input)) {
          alert('No more than two spaces in ' + field);
          return false;
        }
      }
      return true;
    }
  </script>
</head>
<body>
  <div class="container">
    <h2>Ingrese su producto al mantenimiento</h2>
    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <ul>
        {% for message in messages %}
          <li>{{ message }}</li>
        {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}
    <form action="{{ url_for('submit') }}" method="post" onsubmit="return validateForm()">
      <label for="id_equipo">Id Equipo:</label>
      <input type="number" id="id_equipo" name="id_equipo" min="0" required><br><br>
      <label for="fecha_mantenimiento">Fecha Mantenimiento:</label>
      <input type="date" id="fecha_mantenimiento" name="fecha_mantenimiento" required><br><br>
      <label for="tipo_mantenimiento">Tipo Mantenimiento:</label>
      <input type="text" id="tipo_mantenimiento" name="tipo_mantenimiento" required><br><br>
      <label for="id_tecnico">Id Tecnico:</label>
      <input type="number" id="id_tecnico" name="id_tecnico"  min="0" required><br><br>
      <label for="id_supervisor">Id Supervisor:</label>
      <input type="number" id="id_supervisor" name="id_supervisor" min="0" required><br><br>
      <label for="detalles">Detalles:</label>
      <input type="text" id="detalles" name="detalles" required><br><br>
      <label for="estado_equipo">Estado Equipo:</label>
      <input type="text" id="estado_equipo" name="estado_equipo" required><br><br>
      <input type="submit" value="Guardar">
    </form>
    <br>
    <a href="{{ url_for('mantenimiento') }}">lista de productos en el mantenimiento</a>
  </div>
</body>
</html>
